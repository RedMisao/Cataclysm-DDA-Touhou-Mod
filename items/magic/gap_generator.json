[
	{
    "id": "gap_generator",
    "type": "TOOL",
	"name": { "str": "gap generator", "str_pl": "gap generators" },
    "description": "A… black blob that seems to bend light inside it.  You feel weirder by having it around.",
	"volume": "900 ml",
	"weight": "900 g",
	"longest_side": "6 cm",
	"price_postapoc": 25000,
	"to_hit": {
		"balance": "neutral", 
		"grip": "none", 
		"length": "hand", 
		"surface": "any"
	},
    "bashing": 1,
	"material": [ "steel" ],
	"symbol": "/",
	"looks_like": "slime_scrap",
    "color": "black",
	"charges_per_use": 1,
    "pocket_data": [ { "pocket_type": "MAGAZINE", "ammo_restriction": { "battery": 3 } } ],
    "relic_data": { 
		"charge_info": { "regenerate_ammo": true, "recharge_type": "periodic", "time": "15 m" }
	},
    "use_action": [ 
		{ 
		"type": "cast_spell", 
		"spell_id": "gap_place", 
		"no_fail": true, 
		"level": 1 
		},
		{
		"target": "gap_generator2",
		"type": "transform",
        "msg": "You turn the gap generator inside out.",
        "menu_text": "Turn inside out",
        "active": true
		}
	],
	"flags": [ "DURABLE_MELEE", "NO_RELOAD", "NO_UNLOAD" ],
	"//": "Yes, this is too similar to Aftershock's translocator spell. No, that wasn't inteded, ideally the deploy_furn and cast_spell ranges should be inverted: deploy gap_2 at long range and move into gap_1 at short range, creating max two gaps that stay active for some time"
	},
	{
    "id": "gap_generator2",
    "type": "TOOL",
	"name": { "str": "gap generator", "str_pl": "gap generators" },
    "description": "A… black blob that seems to bend light around it.  You feel weirder by having it around.",
	"volume": "900 ml",
	"weight": "900 g",
	"longest_side": "6 cm",
	"price_postapoc": 25000,
	"to_hit": {
		"balance": "neutral", 
		"grip": "none", 
		"length": "hand", 
		"surface": "any"
	},
    "bashing": 1,
	"material": [ "steel" ],
	"symbol": "/",
	"looks_like": "slime_scrap",
    "color": "black",
	"charges_per_use": 1,
    "pocket_data": [ { "pocket_type": "MAGAZINE", "ammo_restriction": { "battery": 3 } } ],
    "relic_data": { 
		"charge_info": { "regenerate_ammo": true, "recharge_type": "periodic", "time": "15 m" }
	},
    "use_action": [ 
		{ 
		"type": "cast_spell", 
		"spell_id": "gap_move", 
		"no_fail": true, 
		"level": 1 
		},
		{
		"target": "gap_generator",
		"type": "transform",
        "msg": "You turn the gap generator outside in.",
        "menu_text": "Turn outside in",
        "active": true
		}
	],
	"flags": [ "DURABLE_MELEE", "NO_RELOAD", "NO_UNLOAD" ]
	},
	{
    "id": "gap_move",
    "type": "SPELL",
    "name": "Gap",
    "description": "Move into a gap.",
    "spell_class": "NONE",
	"valid_targets": [ "ground" ],
	"effect": "translocate",
    "shape": "blast",
    "min_range": 12,
    "max_range": 12,
	"max_level": 1,
	"difficulty": -10,
	"base_casting_time": 300,
	"base_energy_cost": 0,
	"energy_source": "MANA",
	"flags": [ "IGNORE_WALLS", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "SILENT" ]
	},
	{
    "id": "gap_place",
    "type": "SPELL",
    "name": "Gap",
    "description": "Open a gap.",
    "spell_class": "NONE",
	"valid_targets": [ "ground" ],
	"effect": "ter_transform",
	"effect_str": "gap_fur",
    "shape": "blast",
    "min_range": 2,
    "max_range": 2,
	"max_level": 1,
	"difficulty": -10,
	"base_casting_time": 150,
	"base_energy_cost": 0,
	"energy_source": "MANA",
	"flags": [ "NO_HANDS", "NO_LEGS" ]
	}
]