[
  {
    "id": "kokoro_mask_boost",
    "type": "SPELL",
    "name": "Mask: boost",
    "description": "Boost the effects granted by the current mask, and resets its duration (adds instability).  Cast again to return the mask to its normal state.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "kokoro_mask_boost_eoc_1",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "kokoro_mask_swap",
    "type": "SPELL",
    "name": "Mask: Swap",
    "description": "Swap the current mask for a random one, and resets the duration (adds instability).",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "kokoro_mask_swap_eoc_1",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "kokoro_mask_neutral",
    "type": "SPELL",
    "name": "Mask: Unequip",
    "description": "Temporarely unequip all masks (adds instability).  Cast again to re-equip a random mask.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "kokoro_mask_neutral_eoc_1",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "kokoro_spin",
    "type": "SPELL",
    "name": "Spin attack (damage)",
    "description": "Damage component for tec_kokoro_spin ",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "bash",
    "min_damage": { "math": [ "( (u_skill('melee') * 2 ) + (u_skill('dodge') * 2 ) + 8 )" ] },
    "max_damage": 64,
    "min_range": 0,
    "max_range": 0,
    "min_aoe": 2,
    "max_aoe": 2,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS" ],
    "//": "min dmg 24"
  },
  {
    "id": "kokoro_backsweep",
    "type": "SPELL",
    "name": { "str": "Backsweep" },
    "description": "Infuse your weapon with spiritual energy and sweep in front of you, dealing damage and pulling enemies towards your position.  Requires a 2h weapon.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "kokoro_backsweep_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 133,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "kokoro_backsweep2_bash",
    "type": "SPELL",
    "name": { "str": "Backsweep (bash)" },
    "description": "Infuse your weapon with spiritual energy and sweep in front of you, dealing damage and pulling enemies towards your position.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kokoro_backsweep3" } ],
    "shape": "cone",
    "damage_type": "bash",
    "min_damage": { "math": [ "( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) * 0.95 )" ] },
    "max_damage": { "math": [ "( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) * 1.05 )" ] },
    "min_range": { "math": [ "( 4 + var_kokoro_determination + var_kokoro_determination_boost )" ] },
    "max_range": 5,
    "min_aoe": 90,
    "max_aoe": 90,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "EXTRA_EFFECTS_FIRST", "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE", "SOMATIC" ],
    "//2": "Deals x0.9 - 2.5 weapon dmg with ± 5% variance"
  },
  {
    "id": "kokoro_backsweep2_cut",
    "type": "SPELL",
    "name": { "str": "Backsweep (cut)" },
    "description": "Infuse your weapon with spiritual energy and sweep in front of you, dealing damage and pulling enemies towards your position.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kokoro_backsweep3" } ],
    "shape": "cone",
    "damage_type": "cut",
    "min_damage": { "math": [ "( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) * 0.95 )" ] },
    "max_damage": { "math": [ "( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill(dodge) * 0.08 ) + 0.26 ) ) * 1.05 )" ] },
    "min_range": { "math": [ "( 4 + var_kokoro_determination + var_kokoro_determination_boost )" ] },
    "max_range": 5,
    "min_aoe": 90,
    "max_aoe": 90,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "EXTRA_EFFECTS_FIRST", "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE", "SOMATIC" ],
    "//2": "Deals x0.9 - 2.5 weapon dmg with ± 5% variance"
  },
  {
    "id": "kokoro_backsweep2_stab",
    "type": "SPELL",
    "name": { "str": "Backsweep (stab)" },
    "description": "Infuse your weapon with spiritual energy and sweep in front of you, dealing damage and pulling enemies towards your position.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kokoro_backsweep3" } ],
    "shape": "cone",
    "damage_type": "stab",
    "min_damage": { "math": [ "( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) * 0.95 )" ] },
    "max_damage": { "math": [ "( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) * 1.05 )" ] },
    "min_range": { "math": [ "( 4 + var_kokoro_determination + var_kokoro_determination_boost )" ] },
    "max_range": 5,
    "min_aoe": 90,
    "max_aoe": 90,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "EXTRA_EFFECTS_FIRST", "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE", "SOMATIC" ],
    "//2": "Deals x0.9 - 2.5 weapon dmg with ± 5% variance"
  },
  {
    "id": "kokoro_backsweep3",
    "type": "SPELL",
    "name": { "str": "Backsweep (pull)" },
    "description": "Pull component for kokoro_backsweep ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "directed_push",
    "shape": "cone",
    "damage_type": "pure",
    "min_damage": { "math": [ "( - 3 - var_kokoro_determination - var_kokoro_determination_boost )" ] },
    "max_damage": -4,
    "min_range": { "math": [ "( 4 + var_kokoro_determination + var_kokoro_determination_boost )" ] },
    "max_range": 5,
    "min_aoe": 90,
    "max_aoe": 90,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_LEGS", "SILENT", "SOMATIC" ]
  },
  {
    "id": "kokoro_quick_attack",
    "type": "SPELL",
    "name": { "str": "Quick attack" },
    "description": "Attack repeatedly in front of you.  Requires a compatible weapon.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "kokoro_quick_attack_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 85,
    "base_energy_cost": 133,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "kokoro_quick_attack2_bash",
    "type": "SPELL",
    "name": { "str": "Quick attack (bash)" },
    "description": "Attack repeatedly in front of you.  Requires a compatible weapon.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kokoro_quick_attack3_bash" } ],
    "shape": "line",
    "min_damage": 3,
    "max_damage": { "math": [ "( 3 + var_kokoro_determination + var_kokoro_determination_boost )" ] },
    "min_range": 2,
    "max_range": 2,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC", "RANDOM_DAMAGE", "WONDER" ]
  },
  {
    "id": "kokoro_quick_attack3_bash",
    "type": "SPELL",
    "name": { "str": "Quick attack (dmg)" },
    "description": "Damage component for kokoro_quick_attack ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "shape": "cone",
    "damage_type": "bash",
    "min_damage": { "math": [ "( ( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) / 3 ) * 0.95 )" ] },
    "max_damage": { "math": [ "( ( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) / 3 ) * 1.05 )" ] },
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE", "SOMATIC" ],
    "//2": "Deals 2/6 - 5/6 weapon dmg (with ± 5% variance), 3 times (4 in the proper stance). Total x0.9 - 2.5 weapon dmg (x3.33 in the proper stance)"
  },
  {
    "id": "kokoro_quick_attack2_cut",
    "type": "SPELL",
    "name": { "str": "Quick attack (cut)" },
    "description": "Attack repeatedly in front of you.  Requires a compatible weapon.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kokoro_quick_attack3_bash" } ],
    "shape": "line",
    "min_damage": 3,
    "max_damage": { "math": [ "( 3 + var_kokoro_determination + var_kokoro_determination_boost )" ] },
    "min_range": 2,
    "max_range": 2,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC", "RANDOM_DAMAGE", "WONDER" ]
  },
  {
    "id": "kokoro_quick_attack3_cut",
    "type": "SPELL",
    "name": { "str": "Quick attack (cut)" },
    "description": "Damage component for kokoro_quick_attack ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "shape": "cone",
    "damage_type": "cut",
    "min_damage": { "math": [ "( ( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) / 3 ) * 0.95 )" ] },
    "max_damage": { "math": [ "( ( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) / 3 ) * 1.05 )" ] },
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE", "SOMATIC" ],
    "//2": "Deals 2/6 - 5/6 weapon dmg (with ± 5% variance), 3 times (4 in the proper stance). Total x0.9 - 2.5 weapon dmg (x3.33 in the proper stance)"
  },
  {
    "id": "kokoro_quick_attack2_stab",
    "type": "SPELL",
    "name": { "str": "Quick attack (stab)" },
    "description": "Attack repeatedly in front of you.  Requires a compatible weapon.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kokoro_quick_attack3_bash" } ],
    "shape": "line",
    "min_damage": 3,
    "max_damage": { "math": [ "( 3 + var_kokoro_determination + var_kokoro_determination_boost )" ] },
    "min_range": 2,
    "max_range": 2,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC", "RANDOM_DAMAGE", "WONDER" ]
  },
  {
    "id": "kokoro_quick_attack3_stab",
    "type": "SPELL",
    "name": { "str": "Quick attack (stab)" },
    "description": "Damage component for kokoro_quick_attack ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "shape": "cone",
    "damage_type": "stab",
    "min_damage": { "math": [ "( ( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) / 3 ) * 0.95 )" ] },
    "max_damage": { "math": [ "( ( ( var_melee_phys_dmg * ( (u_skill('melee') * 0.08 ) + (u_skill('dodge') * 0.08 ) + 0.26 ) ) / 3 ) * 1.05 )" ] },
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE", "SOMATIC" ],
    "//2": "Deals 2/6 - 5/6 weapon dmg (with ± 5% variance), 3 times (4 in the proper stance). Total x0.9 - 2.5 weapon dmg (x3.33 in the proper stance)"
  },
  {
    "id": "kokoro_shouting_gspider",
    "type": "SPELL",
    "name": "Shouting giant spider mask",
    "description": "Temporarely equip your Shouting Giant Spider mask and unleash webs in front of you, slowing down enemies.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "shape": "cone",
    "min_range": 5,
    "max_range": 5,
    "min_aoe": 90,
    "max_aoe": 90,
    "min_duration": { "math": [ "( (u_skill(melee) * 60 ) + (u_skill('dodge') * 60 ) + 720 )" ] },
    "max_duration": 2400,
    "field_id": "fd_web3",
    "field_chance": 1,
    "min_field_intensity": 1,
    "max_field_intensity": 2,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "Shouldn't hit flying targets or be activated without ground. Should be castable with a single free hand",
    "//2": "min dur 1200",
    "//3": "WIP. Kokoro isn't immune to the webs"
  },
  {
    "id": "kokoro_spirit_naginata",
    "type": "SPELL",
    "name": "Summon: Spirit naginata",
    "description": "Spend some spiritual power to briefly materialize it into a naginata.  This is a 2h weapon, so you require both hands to use it.",
    "spell_class": "NONE",
    "valid_targets": [ "none" ],
    "effect": "spawn_item",
    "effect_str": "kokoro_naginata",
    "shape": "blast",
    "min_duration": { "math": [ "( (u_skill('stabbing') * 90 ) + (u_skill('melee') * 90 ) + 240 )" ] },
    "max_duration": 2400,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 33,
    "base_energy_cost": 66,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "min dur 600"
  },
  {
    "id": "kokoro_unleash_emotion",
    "type": "SPELL",
    "name": { "str": "Unleash emotion" },
    "description": "Release the emotion of your current mask around you (reduces instability).  Warning: this affects friendly and hostile targets alike.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "kokoro_unleash_emotion_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 133,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "kokoro_unleash_emotion0",
    "type": "SPELL",
    "name": { "str": "Unleash emotion (happiness)" },
    "description": "Release the emotion of your current mask around you (reduces instability).  Warning: this affects friendly and hostile targets alike.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "effect_str": "stunned",
    "extra_effects": [ { "id": "kokoro_unleash_emotion0_2" } ],
    "shape": "blast",
    "damage_type": "pure",
    "min_duration": { "math": [ "( (u_skill(melee) * 30 ) + (u_skill('dodge') * 30 ) + 60 )" ] },
    "max_duration": 900,
    "min_aoe": { "math": [ "( (u_skill(melee) * 0.8 ) + (u_skill('dodge') * 0.8 ) + 1.6 )" ] },
    "max_aoe": 24,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min dur 300, min aoe 8"
  },
  {
    "id": "kokoro_unleash_emotion0_2",
    "type": "SPELL",
    "name": { "str": "Unleash emotion (happiness) (extra)" },
    "description": "Self buff component for kokoro_unleash_emotion0 ",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "attack",
    "effect_str": "kokoro_unleash_happiness_effect",
    "shape": "blast",
    "damage_type": "pure",
    "min_duration": { "math": [ "( (u_skill(melee) * 30 ) + (u_skill('dodge') * 30 ) + 360 )" ] },
    "max_duration": 1200,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min dur 600"
  },
  {
    "id": "kokoro_unleash_emotion1",
    "type": "SPELL",
    "name": { "str": "Unleash emotion (determination)" },
    "description": "Release the emotion of your current mask around you (reduces instability).  Warning: this affects friendly and hostile targets alike.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "effect_str": "kokoro_unleash_determination_effect",
    "extra_effects": [ { "id": "kokoro_unleash_emotion1_2" } ],
    "shape": "blast",
    "damage_type": "pure",
    "min_duration": { "math": [ "( (u_skill(melee) * 200 ) + (u_skill('dodge') * 200 ) + 400 )" ] },
    "max_duration": 6000,
    "min_aoe": { "math": [ "( (u_skill(melee) * 0.8 ) + (u_skill('dodge') * 0.8 ) + 1.6 )" ] },
    "max_aoe": 24,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min dur 2000, min aoe 8"
  },
  {
    "id": "kokoro_unleash_emotion1_2",
    "type": "SPELL",
    "name": { "str": "Unleash emotion (determination) (extra)" },
    "description": "Extra debuff for kokoro_unleash_emotion1 ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "effect_str": "downed",
    "shape": "blast",
    "damage_type": "pure",
    "min_duration": 600,
    "max_duration": 600,
    "min_aoe": { "math": [ "( (u_skill(melee) * 0.8 ) + (u_skill('dodge') * 0.8 ) + 1.6 )" ] },
    "max_aoe": 24,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "kokoro_unleash_emotion2",
    "type": "SPELL",
    "name": { "str": "Unleash emotion (melancholy)" },
    "description": "Release the emotion of your current mask around you (reduces instability).  Warning: this affects friendly and hostile targets alike.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "effect_str": "kokoro_unleash_melancholy_effect",
    "shape": "blast",
    "damage_type": "pure",
    "min_duration": { "math": [ "( (u_skill(melee) * 200 ) + (u_skill('dodge') * 200 ) + 400 )" ] },
    "max_duration": 6000,
    "min_aoe": { "math": [ "( (u_skill(melee) * 0.8 ) + (u_skill('dodge') * 0.8 ) + 1.6 )" ] },
    "max_aoe": 24,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min dur 2000, min aoe 8"
  },
  {
    "id": "kokoro_unleash_emotion3",
    "type": "SPELL",
    "name": { "str": "Unleash emotion (anger)" },
    "description": "Release the emotion of your current mask around you (reduces instability).  Warning: this affects friendly and hostile targets alike.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "effect_str": "kokoro_unleash_anger_effect",
    "extra_effects": [ { "id": "kokoro_unleash_emotion3_2" } ],
    "shape": "blast",
    "damage_type": "pure",
    "min_dot": 2,
    "max_dot": 2,
    "min_duration": { "math": [ "( (u_skill(melee) * 150 ) + (u_skill('dodge') * 150 ) + 1800 )" ] },
    "max_duration": 6000,
    "min_aoe": { "math": [ "( (u_skill(melee) * 0.8 ) + (u_skill('dodge') * 0.8 ) + 1.6 )" ] },
    "max_aoe": 24,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min dur 3000 (dmg 40 - 100, see below), min aoe 8"
  },
  {
    "id": "kokoro_unleash_emotion3_2",
    "type": "SPELL",
    "name": { "str": "Unleash emotion (anger) (extra)" },
    "description": "Balance component of kokoro_unleash_emotion3 . This reduces the dmg of the dot for 20 s, so it does 40 - 100 total dmg, instead of 60 - 120",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "pure",
    "min_dot": -1,
    "max_dot": -1,
    "min_duration": 2000,
    "max_duration": 2000,
    "min_aoe": { "math": [ "( (u_skill(melee) * 0.8 ) + (u_skill('dodge') * 0.8 ) + 1.6 )" ] },
    "max_aoe": 24,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min dur 3000, min aoe 8"
  }
]
