[
  {
    "id": "kaenbyou_dismissfire",
    "type": "SPELL",
    "name": "Dismiss fire",
    "description": "Extinguish the targeted fire.",
    "spell_class": "NONE",
    "valid_targets": [ "field", "ground" ],
    "effect": "ter_transform",
    "effect_str": "dismiss_fire_ter",
    "shape": "blast",
    "min_range": { "math": [ "( (u_skill('speech') * 0.2 ) + (u_skill('dodge') * 0.2 ) + 2.4 )" ] },
    "max_range": 8,
    "min_aoe": { "math": [ "( (u_skill('speech') * 0.2 ) + (u_skill('dodge') * 0.2 ) - 0.6 )" ] },
    "max_aoe": 5,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 133,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_LEGS", "NO_PROJECTILE", "SOMATIC" ],
    "//": "A different approach by Standing-Storm #71310 made this and yamame_webdismiss work",
    "//2": "min range 4, min aoe 1"
  },
  {
    "id": "kaenbyou_conflagrate",
    "type": "SPELL",
    "name": { "str": "Conflagrate" },
    "description": "Cause a burst of chaotic fire on the target.  Deals extra damage in the presence of hellfire.",
    "spell_class": "NONE",
    "effect": "attack",
    "extra_effects": [ { "id": "kaenbyou_conflagrate2" } ],
    "valid_targets": [ "ally", "hostile" ],
    "shape": "blast",
    "damage_type": "heat",
    "min_damage": { "math": [ "( (u_skill('speech') * 1.8 ) + 5.8 )" ] },
    "max_damage": 31,
    "min_range": 12,
    "max_range": 12,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min dmg 13"
  },
  {
    "id": "kaenbyou_conflagrate2",
    "type": "SPELL",
    "name": { "str": "Conflagrate (EOC)" },
    "description": "EOC check for kaenbyou_immolate ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "effect_on_condition",
    "effect_str": "kaenbyou_conflagrate_eoc",
    "shape": "blast",
    "max_level": 1,
    "min_range": 12,
    "max_range": 12,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "kaenbyou_conflagrate3",
    "type": "SPELL",
    "name": { "str": "Conflagrate (extra)" },
    "description": "Extra (self) damage for the target of kaenbyou_immolate and kaenbyou_conflagrate ",
    "spell_class": "NONE",
    "effect": "attack",
    "valid_targets": [ "self" ],
    "shape": "blast",
    "damage_type": "heat",
    "min_damage": { "math": [ "( (u_skill('speech') * 1.8 ) + 5.8 )" ] },
    "max_damage": 31,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "kaenbyou_immolate",
    "type": "SPELL",
    "name": { "str": "Immolate" },
    "description": "Light the target with hellfire, instantly dealing a small amount of damage and much more over time.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "attack",
    "effect_str": "immolate_light",
    "extra_effects": [ { "id": "kaenbyou_immolate2" }, { "id": "kaenbyou_immolate3" } ],
    "shape": "blast",
    "damage_type": "heat",
    "min_damage": { "math": [ "( (u_skill('speech') * 1.7 ) + 4.2 )" ] },
    "max_damage": 28,
    "min_range": 12,
    "max_range": 12,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 150,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//2": "min dmg 11"
  },
  {
    "id": "kaenbyou_immolate2",
    "type": "SPELL",
    "name": { "str": "Immolate (dot)" },
    "description": "Fire dot component of kaenbyou_immolate ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "heat",
    "min_dot": { "math": [ "( (u_skill('speech') * 0.4 ) + 0.4 )" ] },
    "max_dot": 6,
    "min_pierce": { "math": [ "( (u_skill('speech') * 0.3 ) - 0.2 )" ] },
    "max_pierce": 4,
    "min_range": 12,
    "max_range": 12,
    "min_duration": { "math": [ "( (u_skill('speech') * 120 ) + 720 )" ] },
    "max_duration": 2400,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS" ],
    "//": "Ideally, the dot should have a flame field visual effect",
    "//2": "min dot 2, min pierce 1, min dur 1200. The granularity of small dots isn't the best"
  },
  {
    "id": "kaenbyou_immolate3",
    "type": "SPELL",
    "name": { "str": "Immolate (EOC)" },
    "description": "Forces the target to run the EOC, which adds u_var_immolate to (their) self",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "effect_on_condition",
    "effect_str": "kaenbyou_immolate_eoc",
    "shape": "blast",
    "max_level": 1,
    "min_range": 12,
    "max_range": 12,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "kaenbyou_blazingwheel",
    "type": "SPELL",
    "name": "Blazing wheel: Cataclysm",
    "description": "Channel for a short time, blasting the target location with a circle of fire, instantly dealing damage and heavily burning them over time.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "components": "spell_components_soulshard_2",
    "effect": "attack",
    "extra_effects": [ { "id": "kaenbyou_blazingwheel2" } ],
    "shape": "blast",
    "damage_type": "heat",
    "min_damage": { "math": [ "( (u_skill('speech') * 6 ) - 4 )" ] },
    "max_damage": 80,
    "min_range": 18,
    "max_range": 18,
    "min_aoe": 4,
    "max_aoe": 4,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 400,
    "base_energy_cost": 200,
    "energy_source": "MANA",
    "flags": [ "CONCENTRATE", "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min dmg 20"
  },
  {
    "id": "kaenbyou_blazingwheel2",
    "type": "SPELL",
    "name": "Blazing wheel (dot)",
    "description": "Fire dot component of kaenbyou_blazingwheel ",
    "spell_class": "NONE",
    "valid_targets": [ "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "heat",
    "min_dot": { "math": [ "( (u_skill('speech') * 0.9 ) + 0.4 )" ] },
    "max_dot": 13,
    "min_pierce": { "math": [ "( (u_skill('speech') * 0.4 ) + 0.4 )" ] },
    "max_pierce": 6,
    "min_duration": { "math": [ "( (u_skill('speech') * 120 ) + 720 )" ] },
    "max_duration": 2400,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS" ],
    "//": "min dot 4, min pierce 2, min dur 1200"
  },
  {
    "id": "kaenbyou_soulfire",
    "type": "SPELL",
    "name": "Soulfire",
    "description": "Hurl a mass of unholy fire towards a target, which explodes burning their soul, and damaging any enemy nearby.",
    "spell_class": "NONE",
    "effect": "attack",
    "valid_targets": [ "ally", "hostile" ],
    "components": "spell_components_soulshard_1",
    "shape": "blast",
    "damage_type": "soul",
    "min_damage": { "math": [ "( (u_skill('speech') * 32 ) - 88 )" ] },
    "max_damage": 360,
    "min_range": { "math": [ "( (u_skill('speech') * 0.9 ) + 5.4 )" ] },
    "max_range": 18,
    "min_aoe": 1,
    "max_aoe": 1,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 200,
    "base_energy_cost": 166,
    "energy_source": "MANA",
    "flags": [ "IGNITE_FLAMMABLE", "NO_LEGS", "SOMATIC" ],
    "//": "This spell is unrelated to Magiclysm's Soulfire. I just find the word really cool",
    "//2": "min dmg 40"
  },
  {
    "id": "kaenbyou_vssummon",
    "type": "SPELL",
    "name": { "str": "Summon: Vengeful spirit" },
    "description": "Summon Vengeful spirits that follow you around.  They will happily help you in battle, either passively by attacking nearby enemies or as resource for more spells.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile", "self" ],
    "components": "spell_components_soulshard_1",
    "effect": "summon",
    "effect_str": "mon_vengeful_spirit",
    "shape": "blast",
    "min_damage": { "math": [ "( (u_skill('speech') * 0.3 ) - 0.4 )" ] },
    "max_damage": 8,
    "min_range": 4,
    "max_range": 4,
    "min_aoe": 3,
    "max_aoe": 3,
    "min_duration": { "math": [ "( (u_skill('speech') * 360 ) - 240 )" ] },
    "max_duration": 4800,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 33,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "VERBAL" ],
    "//": "min dmg 2, min dur 1200"
  },
  {
    "id": "kaenbyou_vsrelease",
    "type": "SPELL",
    "name": { "str": "Release: Vengeful spirit" },
    "description": "Release all gathered Vengeful spirits.  It's much less peaceful than it sounds though, as they explode dealing damage.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "targeted_monster_ids": [ "mon_vengeful_spirit" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kaenbyou_vsrelease2" } ],
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": 100,
    "max_damage": 100,
    "min_range": { "math": [ "( (u_skill('speech') * 0.8 ) + 4.8 )" ] },
    "max_range": 16,
    "min_aoe": 4,
    "max_aoe": 4,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 66,
    "base_energy_cost": 66,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "NO_PROJECTILE", "SOMATIC" ],
    "//": "The simplest way to make real use of the onryou. This kills all onryou, and triggers kaenbyou_vsrelease2 which is the actual damage component",
    "//2": "min range 8"
  },
  {
    "id": "kaenbyou_vsrelease2",
    "type": "SPELL",
    "name": { "str": "Release: Vengeful spirit (explosion)" },
    "description": "Explosion for kaenbyou_vsrelease ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "heat",
    "min_range": { "math": [ "( (u_skill('speech') * 34 ) - 116 )" ] },
    "max_damage": 30,
    "min_pierce": { "math": [ "( (u_skill('speech') * 0.8 ) - 2.2 )" ] },
    "max_pierce": 9,
    "min_aoe": 1,
    "max_aoe": 1,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_PROJECTILE" ],
    "//": "min dmg 20, min pierce 1. Note: this is per onryou, 3 onryou exploding at lvl 1 = 60 aoe dmg, 8 onryou exploding at speech(14) = 360 aoe dmg"
  },
  {
    "id": "kaenbyou_vspoly1",
    "type": "SPELL",
    "name": { "str": "Warp: Vengeful spirit" },
    "description": "Warp the self of the targeted vengeful spirit, twisting its form into one more effective for combat.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "targeted_monster_ids": [ "mon_vengeful_spirit" ],
    "components": "spell_components_soulshard_1",
    "effect": "targeted_polymorph",
    "effect_str": "mon_vengeful_spirit2",
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": 100,
    "max_damage": 100,
    "min_range": { "math": [ "( (u_skill('speech') * 0.8 ) + 4.8 )" ] },
    "max_range": 16,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 66,
    "base_energy_cost": 66,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "NO_PROJECTILE", "SOMATIC" ],
    "//": "min range 8",
    "//2": "WIP. Find a name and finish this"
  }
]
